<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="/js/jquery-1.8.0.js"></script>
<link rel="stylesheet" href="/layui/css/layui.css" />
<link rel="stylesheet" href="/layui/css/modules/laydate/default/laydate.css">
<script src="/layui/layui.all.js" charset="UTF-8"></script>
<script src="/layui/layui.js" charset="UTF-8"></script>
<body>
<table class="layui-hide" id="zucheliangTable"  lay-filter="tblist"></table>
</body>
<script type="text/javascript">
    layui.use('table', function() {
        var table = layui.table;
        //第一个实例
        table.render({
            elem: '#zucheliangTable'
            , height: 312
            , url: '../hhx/findzucheliang' //数据接口
            , page: true //开启分页
            , limit: 4
            , toolbar: 'default'
            , limits: [4, 6, 8]
            , cols: [
                [ //表头
                    {field: 'zizheng', title: '序列', width: 40, type: 'numbers'}
                    , {field: 'userId', title: '用户账号', width: 100}
                    , {field: 'name', title: '认证人', width: 120}
                    , {field: 'count', title: '租车量', width: 120}
                    , {field: 'sss', title: '操作',templet:function(d){
                        return '<a  class="layui-btn layui-btn-danger layui-btn-sm" lay-event="del" href="javascript:tozuchexaingqing('+d.userId+')">查看详情</a>';
                    }, width: 120}
                ]
            ],
        })
    })
    function tozuchexaingqing(id){
            //示范一个公告层
            layer.open({
                type: 1
                ,title: false //不显示标题栏
                ,closeBtn: false
                ,area: '980px;'
                ,shade: 0.8
                ,id: 'LAY_layuipro' //设定一个id，防止重复弹出
                ,btn: ['确定', '关闭']
                ,btnAlign: 'c'
                ,moveType: 1 //拖拽模式，0或者1
                ,content: getJspHtml("/hhx/tozuchexaingqing?id="+id)
                ,success: function(layero){
                    var btn = layero.find('.layui-layer-btn');
                    btn.find('.layui-layer-btn0').attr({
                        target: '_blank'
                    });
                }
            });

    }
    //  发送ajax请求获取jsp页面内容
    function getJspHtml(url){
        var  jspHtml = "";
        $.ajax({
            url :url,// 弹框里是：  /test/project/addPage.do
            type : "post",
            async:false,//需要注意的   应是同步请求
            success : function (data){
                //返回的data为     bootstarpDialog.jsp  的页面内容
                jspHtml = data;
            },error : function (){
                alert("ajax失败");
            }
        })
        //将data返回的jsp内容  填充到dialog方法的   message  属性中
        return jspHtml;
    }
</script>
</html>